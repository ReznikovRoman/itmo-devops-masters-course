def insertion_sort(array):
    """Сортировка вставками.

    Сложность: O(n^2) в худшем случае.
    Устойчивая (сохраняет порядок равных элементов).
    """
    for i in range(1, len(array)):
        current_value = array[i]
        j = i - 1
        # Сдвигаем элементы, которые больше current_value, вправо
        while j >= 0 and array[j] > current_value:
            array[j + 1] = array[j]
            j -= 1
        array[j + 1] = current_value
    return array


data = [5, 2, 9, 1, 5, 6]
sorted_data = insertion_sort(data.copy())
print("Insertion Sort:", sorted_data)

















"""
Как работает сортировка вставками?

Начинаем со второго элемента (индекс 1), считая первый элемент уже отсортированным.
Выбираем текущий элемент array[i] и вставляем его в подходящее место среди уже отсортированных элементов слева.
Повторяем для всех i от 1 до конца массива.
В худшем случае — когда список отсортирован в обратном порядке — каждый элемент придётся сравнить со всеми предыдущими,
что даёт нам O(n²).
Если массив почти отсортирован, будет много пропусков в цикле while, и алгоритм работает близко к O(n).
"""
